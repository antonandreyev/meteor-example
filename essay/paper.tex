\documentclass[a4paper,12pt]{article}

\usepackage{fontenc}
\usepackage{polyglossia}
\setdefaultlanguage{russian}
\setotherlanguage{english}
\defaultfontfeatures{Ligatures=TeX}

\setmainfont{CMU Serif}
\setsansfont{CMU Sans Serif}
\setmonofont{CMU Typewriter Text}

\tolerance=10000
\usepackage[a4paper,margin=2cm]{geometry}
\usepackage{setspace}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{ifthen}
\usepackage{tikz}
\usepackage{indentfirst}
\renewcommand{\baselinestretch}{1.5}

\begin{document}
\title{Реферат по JavaScript-фреймворку Meteor}
\author{А.~А.~Андреев, 22609}
\date{\today}
\maketitle

\large

\section*{Введение}
Трендом последних нескольких лет в Web-разработке являются приложения реального
времени и их разновидность --- реактивные приложения. Реактивность подразумевает
мгновенное обновление данных на клиентской стороне при обновлении их на сервере
(без необходимости обновлять страницу). Часто такие приложение выполняются в виде
одностраничных приложений, т.е. переходы между ресурсами приложения выполняются
без загрузки новой страницы, чаще всего с помощью асинхронной загрузки данных
с сервера. 

Закономерно, для облегчения создания таких приложений появился ряд программных
каркасов (фреймворков) для языка JavaScript, как основного языка клиентской
Web-Разработки. Некоторые из них предоставляют уровень абстракции
только для уровня представления (напрмер, ReactJS), другие предлагают
вариацию паттерна MVC (BackboneJS, AngularJS) и опирются на серверную сторону
через REST- или JSON-интерфейс.

Еще одна вариация фреймворк-архитектуры предлагается Meteor (MeteorJS). 
Этот программный каркас предлагает full stack JavaScript разработку
с NodeJS на серверной стороне. В данном реферате рассматриваются 
подробности архитектуры фреймворка Meteor, основы и тонкости создания
приложений на его основе (на примере приложения для размещения новостей).

\section{Архитектура MeteorJS}
Meteor предлагает использование одного языка -- JavaScript -- и на
клиентской стороне (web-обозреватель, web-view на мобильных платформах), и
на серверной стороне (NodeJS). При этом все API (в том числе и к базе
данных) -- нативные для этого языка.

Для общения между двумя сторонами в Meteor используется собственный протокол --
Distributed Data Protocol (DDP). Он подразумевает общение между двумя сторонами
посредством JSON-объектов и пропагандирует модель публикация-подписка,
что позволяет асинхронно получать данные при обновлении их на сервере
без необходимости постоянного опроса сервера. В рамках протокола создается
постоянное соединение между клиентской и серверной стороной и сервер посылает
обновленные данные без инициации обмена клиентом.

Кроме того, Meteor поддерживает и стандартный для других фреймворков обмен данными
посредством HTTP-сообщений.

На серверной стороне Meteor, несмотря на занятие только одного порта,
работает сразу два web-сервера: сервер DDP (на основе SockJS и технологии
Web-сокетов), который обеспечивает реактивноевзаимодействие, и сервер HTTP (на
основе API NodeJS), который обеспечивает передачу статических файлов и
обработку классических HTTP-запросов.

В качестве СУБД Meteor предлагает использовать MongoDB, для чего имеется
собственный API, интегрированный с другими компонентами фреймворка (например,
протоколом DDP). Путем установки расширений Meteor позволяет организовать 
взаимодействие с другими СУБД, такими как PostgreSQL.

Фреймворком предоставляется возможность установки пакетов расширений
с помощью собственного менеджера пакетов Atmosphere.

\section{Основы разработки с помощью Meteor на основе новостного приложения}
Для обозначения основных моментов и тонкостей разработки приложений с помощью
Meteor в данном реферате будет описан процесс разработки приложения для размещения
Новостей. Приложение будет предоставлять возможность размещения новостей
(заголовок + текст) авторизованными пользователями и чтения новостей
всеми пользователями.

\subsection{Установка Meteor}

Дистрибутив фреймворка включает в себя не только файлы самого фреймворка, 
в него интегрированы NodeJS и MongoDB, что облегчает
первоначальную настройку приложения (однако усложняет установку приложений 
на production-сервер в плане гибкости настроек). После
установки дистрибутива, соответствующего целевой операционной системе,
из коммандной строки будет доступна команда ``\$~meteor~create~имя\_приложения'',
с помощью которой происходит инициализация начальной структуры нового приложения.

\subsection{Файловая структура приложений}

После инициализации приложения будет создана следующая файловая структура:
\begin{itemize}
	\item package.json --- файл, описывающий приложение для npm;
	\item server/main.js --- файл, являющийся точкой входа для
	всего server-side кода;
	\item client/main.js --- файл, являющийся точкой входа для
	всего client-side кода;
	\item client/main.html --- файл с описанием представления приложения,
	включая шаблоны;
	\item client/main.css --- основной файл стилей приложения;
	\item .meteor --- директория со служебными файлами приложения, включая
	файлы базы данных, установленные пакеты расширений, скомпилированные 
	js-файлы.
\end{itemize}

В Meteor поощряется использование директив import/export из спецификации
ES2015. Так, создателяи фреймворка предлагается разделять приложение
на небольшие модули и импортировать их друг из друга. Исходя из
данных рекомендаций, в Новостном приложении будет использоваться следующая
дополнительная файловая структура:

\begin{itemize}
	\item imports --- директория с модулями приложения;
	\item imports/startup/\{client и server\} --- код, который должен выполнится
	при старте приложения на клиентской и на серверной стороне соответственно;
	\item imports/api --- модули, описывающие предметную область приложения
	и вспомогательные функции;
	\item imorts/api/accounts-config.js --- инициализация и настройка системы аккаунтов пользователей;
	\item imports/ui --- модули уровня представления, включая шаблоны (.html) 
	и инициализирующий и вспомогательный код для шаблонов (.js)
\end{itemize}

\section*{Заключение}
\dots

\begin{thebibliography}{99}
	
\end{thebibliography}

\end{document}
